<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Spanish Fix</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { margin: 15px 0; padding: 15px; border-radius: 5px; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .failure { background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        pre { font-size: 11px; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>üá™üá∏ Test Spanish Translation Fix</h1>
    <p>Testing if the loveLanguage ‚Üí lovelanguage naming fix resolves Spanish translations</p>
    
    <button onclick="testAllSpanish()">üß™ Test All Spanish Translations</button>
    
    <div id="results"></div>

    <script src="script.js"></script>
    <script>
        function testAllSpanish() {
            console.clear();
            console.log('=== TESTING SPANISH AFTER NAMING FIX ===');
            
            // Force Spanish
            currentLanguage = 'es';
            
            let results = '';
            
            const tests = [
                { id: 'mbti', name: 'MBTI', expected: 'Should work from testDefinitions' },
                { id: 'disc', name: 'DISC', expected: 'Should work from testDefinitions' },
                { id: 'lovelanguage', name: 'Love Language', expected: 'Should work from testDefinitions (FIXED!)' },
                { id: 'adhd', name: 'ADHD', expected: 'Should work from bridge system' },
                { id: 'anxiety', name: 'Anxiety', expected: 'Should work from bridge system' },
                { id: 'depression', name: 'Depression', expected: 'Should work from bridge system' }
            ];
            
            tests.forEach(test => {
                let resultClass = 'failure';
                let statusText = '';
                let source = '';
                
                try {
                    // Check testDefinitions first
                    if (testDefinitions[test.id] && testDefinitions[test.id].es) {
                        const questions = testDefinitions[test.id].es.questions;
                        const firstQ = questions[0].text;
                        const isSpanish = /[√±√°√©√≠√≥√∫√º]/.test(firstQ) || 
                            firstQ.includes('equipos') || firstQ.includes('pareja') || 
                            firstQ.includes('t√∫') || firstQ.includes('Tu');
                        
                        if (isSpanish) {
                            resultClass = 'success';
                            statusText = `‚úÖ WORKING - ${questions.length} Spanish questions`;
                            source = `testDefinitions (${firstQ.substring(0, 40)}...)`;
                        } else {
                            statusText = `‚ö†Ô∏è FOUND BUT ENGLISH - ${questions.length} questions`;
                            source = `testDefinitions (${firstQ.substring(0, 40)}...)`;
                        }
                    } 
                    // Check bridge system
                    else if (translations.es && translations.es.tests && translations.es.tests[test.id] && translations.es.tests[test.id].questions) {
                        const questions = translations.es.tests[test.id].questions;
                        const firstQ = questions[0].text;
                        const isSpanish = /[√±√°√©√≠√≥√∫√º]/.test(firstQ) || 
                            firstQ.includes('equipos') || firstQ.includes('reuniones') ||
                            firstQ.includes('t√∫') || firstQ.includes('Tu');
                        
                        if (isSpanish) {
                            resultClass = 'success';
                            statusText = `‚úÖ WORKING - ${questions.length} Spanish questions`;
                            source = `bridge system (${firstQ.substring(0, 40)}...)`;
                        } else {
                            statusText = `‚ö†Ô∏è FOUND BUT ENGLISH - ${questions.length} questions`;
                            source = `bridge system (${firstQ.substring(0, 40)}...)`;
                        }
                    } else {
                        statusText = '‚ùå NO SPANISH TRANSLATION FOUND';
                        source = 'None - would fall back to English';
                    }
                } catch (error) {
                    statusText = `‚ùå ERROR: ${error.message}`;
                    source = 'Error occurred';
                }
                
                results += `
                    <div class="test-result ${resultClass}">
                        <h3>${test.name}</h3>
                        <p><strong>Status:</strong> ${statusText}</p>
                        <p><strong>Source:</strong> ${source}</p>
                        <p><strong>Expected:</strong> ${test.expected}</p>
                    </div>
                `;
            });
            
            document.getElementById('results').innerHTML = results;
        }
        
        // Auto-run test
        setTimeout(() => testAllSpanish(), 500);
    </script>
</body>
</html>